<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="Ricardo Moran">

    <link type="text/css" rel="stylesheet" href="libs/bootstrap-4.3.1/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="libs/fontawesome-free-5.9.0-web/css/all.css">
  	<link type="text/css" rel="stylesheet" href="libs/openfontlibrary/charger.css" media="screen"/>
    <link type="text/css" rel="stylesheet" href="libs/goldenlayout-1.5.9/goldenlayout-base.css" />
    <link type="text/css" rel="stylesheet" href="libs/goldenlayout-1.5.9/goldenlayout-light-theme.css" />
    <link type="text/css" rel="stylesheet" href="ide.css" />

    <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
  </head>
  <body>
    <div id="container" class="fullscreen">
      <div id="top-bar">
        <div class="row align-items-center">
          <div class="col-auto">
            <h2>
              <span>Roboliga</span><span>Virtual</span><span>2020</span>
            </h2>
          </div>
          <div class="col-auto">
            <div class="btn-group mb-2" role="toolbar" aria-label="...">
              <button id="new-button" type="button" class="btn btn-info">
                <i class="fas fa-file mr-1"></i>
                <span lang="en">New...</span>
              </button>
              <button id="open-button" type="button" class="btn btn-info">
                <i class="fas fa-folder-open mr-1"></i>
                <span lang="en">Open...</span>
              </button>
              <button id="save-button" type="button" class="btn btn-info">
                <i class="fas fa-save mr-1"></i>
                <span lang="en">Save as...</span>
              </button>
            </div>
          </div>
          <div class="col-3">
            <div class="input-group mb-2">
              <div class="input-group-prepend">
                <div class="input-group-text">Nombre del robot:</div>
              </div>
              <input type="text" class="form-control" id="robot-name">
            </div>
          </div>
          <div class="col">
            <div class="input-group mb-2">
              <div class="input-group-prepend">
                <div class="input-group-text">Escribir c√≥digo en:</div>
              </div>
              <input type="text" class="form-control" id="output-path" disabled>
            </div>
          </div>
        </div>
      </div>
      <div id="layout-container"></div>
    </div>
    <div id="hidden-panels" style="display: none;">

      <div id="blocks-panel" class="fullscreen">
        <div id="blocks-editor"></div>
        <div id="blockly" style="position: absolute;"></div>
      </div>

      <div id="code-panel">
        <div id="code-editor"></div>
      </div>

      <div id="output-panel" class="fullscreen scrollable px-2">
        <pre id="output-console" ></pre>
      </div>
    </div>

    <table id="spinner-container"  class="fullscreen">
      <tbody>
        <tr>
          <td class="align-middle text-center">
            <i class="fas fa-circle-notch fa-spin fa-5x"></i>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Blockly Globals Modal -->
    <div class="modal fade" id="blockly-variables-modal" tabindex="-1" role="dialog" aria-hidden="false">
      <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" lang="en">Configure variables</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form id="blockly-variables-modal-container" class="container">
              <div class="row">
                <table class="table table-borderless text-center">
                  <thead>
                    <tr>
                      <th class="text-center" lang="en">Variable name</th>
                      <th class="text-center">
                        <button id="add-variable-row-button" class="btn btn-sm btn-outline-success" type="button">
                          <i class="fas fa-plus"></i>
                        </button>
                      </th>
                    </tr>
                  </thead>
                  <tbody id="blockly-variables-modal-container-tbody"></tbody>
                </table>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>


    <!-- JQuery/Popper/Bootstrap -->
    <script src="libs/jquery/jquery-1.12.4.min.js" type="text/javascript"></script>
    <script type="text/javascript"> if (typeof module != "undefined") { jQuery = $ = module.exports; } </script>
    <script src="libs/jquery.serializeJSON/jquery.serializejson.min.js" type="text/javascript"></script>
    <script src="libs/bootstrap-4.3.1/js/bootstrap.bundle.min.js" type="text/javascript"></script>

    <!-- GoldenLayout -->
    <script src="libs/goldenlayout-1.5.9/goldenlayout.min.js" type="text/javascript"></script>

    <!-- Blockly -->
    <script src="libs/google-blockly/blockly_compressed.js"></script>
    <script src="libs/google-blockly/msg/js/en.js"></script>

    <!-- FileSaver -->
    <script src="libs/FileSaver-1.3.8/FileSaver.js" type="text/javascript"></script>

  	<!-- ACE -->
  	<script src="libs/ace/ace.js" type="text/javascript" charset="utf-8"></script>

    <script src="translations.js" type="text/javascript" ></script>
    <script src="i18n.js" type="text/javascript" ></script>
    <script src="XML.js" type="text/javascript"></script>
    <script src="blocks2py.js" type="text/javascript"></script>
    <script src="blocks.js" type="text/javascript"></script>
    <script src="ide.js" type="text/javascript"></script>

    <script src="ajax.js" type="text/javascript"></script>

    <script>
    $(document).ready(function () {
      IDE.init();
    });
    </script>
  </body>
</html>
